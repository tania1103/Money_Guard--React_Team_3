{"version":3,"file":"static/js/428.b2103751.chunk.js","mappings":"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","sources":["pages/CurrencyTab/CurrencyTab.jsx","webpack://money-guard/./src/components/Currency/Currency.module.css?c503","components/Currency/CurrencyChart.jsx","helpers/currencyMono.js","components/Currency/Currency.jsx"],"sourcesContent":["import Currency from \"../../components/Currency/Currency\";\n\nconst CurrencyTab = () => {\n  return <Currency />;\n};\n\nexport default CurrencyTab;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Currency_wrapper__dkN2w\",\"graph\":\"Currency_graph__tDdJm\",\"tab\":\"Currency_tab__fYB-2\",\"header\":\"Currency_header__Mo0it\",\"item\":\"Currency_item__ECTkD\"};","//AURA\nimport {\n  AreaChart,\n  Area,\n  Tooltip,\n  ResponsiveContainer,\n  LabelList,\n} from 'recharts';\nimport s from './Currency.module.css';\n\nconst CurrencyChart = ({ data }) => {\n  const renderLabelWithIcon = props => {\n    const { x, y, value, index } = props;\n    let icon = null;\n\n    if (data[index].name === 'USD') {\n      icon = '$';\n    } else if (data[index].name === 'EURO') {\n      icon = '€';\n    }\n\n    return (\n      <text x={x} y={y - 10} fill=\"#ff6f61\" fontSize={14} textAnchor=\"middle\">\n        {icon ? `${icon} ${value}` : value}\n      </text>\n    );\n  };\n\n  const renderDot = props => {\n    const { cx, cy, index } = props;\n    const currencyName = data[index].name;\n\n    if (currencyName === 'USD' || currencyName === 'EURO') {\n      return (\n        <circle\n          key={`dot-${index}`}\n          cx={cx}\n          cy={cy}\n          r={4}\n          fill=\"#563EAF\"\n          stroke=\"#ff6f61\"\n          strokeWidth={2}\n        />\n      );\n    }\n    return null;\n  };\n\n  const renderActiveDot = props => {\n    const { cx, cy, index } = props;\n    const currencyName = data[index].name;\n\n    if (currencyName === 'USD' || currencyName === 'EURO') {\n      return (\n        <circle\n          cx={cx}\n          cy={cy}\n          r={5}\n          fill=\"#ff6f61\"\n          stroke=\"#fff\"\n          strokeWidth={2}\n        />\n      );\n    }\n    return null;\n  };\n\n  const CustomTooltip = ({ active, payload }) => {\n    if (active && payload && payload.length) {\n      return null;\n    }\n    return null;\n  };\n\n  return (\n    <div className={s.graph}>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <AreaChart data={data} className=\"custom-chart\">\n          <defs>\n            <linearGradient id=\"colorGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n              <stop offset=\"0%\" stopColor=\"#ffffff\" stopOpacity={0.3} />\n              <stop offset=\"100%\" stopColor=\"#ffffff\" stopOpacity={0} />\n            </linearGradient>\n          </defs>\n          <Area\n            type=\"monotone\"\n            dataKey=\"currency\"\n            stroke=\"none\"\n            fill=\"url(#colorGradient)\"\n            fillOpacity={1}\n            transform=\"translate(0, 10)\"\n            activeDot={false}\n            dot={false}\n          />\n\n          <Area\n            type=\"monotone\"\n            dataKey=\"currency\"\n            stroke=\"#ff6f61\"\n            strokeWidth={2}\n            fill=\"none\"\n            activeDot={renderActiveDot}\n            dot={renderDot}\n          >\n            <LabelList\n              dataKey=\"label\"\n              content={renderLabelWithIcon}\n              position=\"top\"\n              offset={10}\n              fill=\"#ff6f61\"\n              fontSize={12}\n            />\n          </Area>\n\n          <Tooltip\n            content={<CustomTooltip />}\n            cursor={{ stroke: 'none' }}\n            allowEscapeViewBox={{ x: true, y: true }}\n          />\n        </AreaChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n\nexport default CurrencyChart;","import axios from \"axios\";\n\nconst API_KEY = \"b70a6b3522db4135949be5b7b0660667\";\nconst BASE_URL = \"https://openexchangerates.org/api/latest.json\";\nconst CURRENCY_CACHE_KEY = \"currencyRates\";\n\nconst fetchCurrencyData = async () => {\n  try {\n    const response = await axios.get(`${BASE_URL}?app_id=${API_KEY}`);\n    return response.data.rates; // Obținem doar cursurile valutare\n  } catch (error) {\n    throw new Error(\"Failed to fetch data from Open Exchange Rates: \" + error.message);\n  }\n};\n\nconst getCachedCurrencyData = () => {\n  const cachedData = JSON.parse(localStorage.getItem(CURRENCY_CACHE_KEY));\n  if (cachedData && Date.now() - cachedData.timestamp < 3600000) {\n    return cachedData;\n  }\n  return null;\n};\n\nconst cacheCurrencyData = (data) => {\n  const now = Date.now();\n  const usdRate = data.USD ? { rateBuy: data.USD.toFixed(2), rateSell: (data.USD * 1.02).toFixed(2) } : null;\n  const euroRate = data.EUR ? { rateBuy: data.EUR.toFixed(2), rateSell: (data.EUR * 1.02).toFixed(2) } : null;\n\n  const currencyData = { timestamp: now, usdRate, euroRate };\n  localStorage.setItem(CURRENCY_CACHE_KEY, JSON.stringify(currencyData));\n  return currencyData;\n};\n\nexport const getCurrencyRates = async () => {\n  let currencyData = getCachedCurrencyData();\n\n  if (currencyData && currencyData.usdRate && currencyData.euroRate) {\n    return currencyData;\n  }\n\n  try {\n    const data = await fetchCurrencyData();\n    currencyData = cacheCurrencyData(data);\n    if (!currencyData.usdRate || !currencyData.euroRate) {\n      throw new Error(\"Incomplete data fetched from API\");\n    }\n  } catch (error) {\n    console.error(\"Error fetching data from API. Retrying...\", error.message);\n    const data = await fetchCurrencyData();\n    currencyData = cacheCurrencyData(data);\n  }\n\n  if (!currencyData.usdRate || !currencyData.euroRate) {\n    throw new Error(\"Failed to fetch valid currency data\");\n  }\n\n  return currencyData;\n};\n","//AURA\nimport { useEffect, useState } from 'react';\nimport clsx from 'clsx';\n\nimport CurrencyChart from './CurrencyChart';\n\nimport { getCurrencyRates } from '../../helpers/currencyMono';\nimport s from './Currency.module.css';\n\nconst Currency = () => {\n  const [usdRate, setUsdRate] = useState({ rateBuy: 0, rateSell: 0 });\n  const [euroRate, setEuroRate] = useState({ rateBuy: 0, rateSell: 0 });\n\n  useEffect(() => {\n    const fetchRates = async () => {\n      try {\n        const currencyData = await getCurrencyRates();\n\n        if (currencyData.usdRate) setUsdRate(currencyData.usdRate);\n        if (currencyData.euroRate) setEuroRate(currencyData.euroRate);\n      } catch (error) {\n        throw new Error(error.message);\n      }\n    };\n\n    fetchRates();\n  }, []);\n\n  const data = [\n    { name: 'start', currency: 8, label: '' },\n    { name: 'USD', currency: usdRate.rateBuy, label: usdRate.rateBuy },\n    { name: 'middle', currency: 10, label: '' },\n    { name: 'EURO', currency: euroRate.rateBuy, label: euroRate.rateBuy },\n    { name: 'end', currency: 25, label: '' },\n  ];\n\n  return (\n    <div className={s.wrapper}>\n      <table className={s.tab}>\n        <thead>\n          <tr className={clsx(s.tr, s.header)}>\n            <th className={s.item}>Currency</th>\n            <th className={s.item}>Purchase</th>\n            <th className={s.item}>Sale</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr className={s.tr}>\n            <td className={s.item}>USD</td>\n            <td className={s.item}>{usdRate.rateBuy}</td>\n            <td className={s.item}>{usdRate.rateSell}</td>\n          </tr>\n          <tr className={s.tr}>\n            <td className={s.item}>EUR</td>\n            <td className={s.item}>{euroRate.rateBuy}</td>\n            <td className={s.item}>{euroRate.rateSell}</td>\n          </tr>\n        </tbody>\n      </table>\n      <CurrencyChart data={data} />\n    </div>\n  );\n};\n\nexport default Currency;"],"names":["CurrencyTab","_jsx","Currency","_ref","data","CustomTooltip","_ref2","active","payload","length","className","s","graph","children","ResponsiveContainer","width","height","_jsxs","AreaChart","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","Area","type","dataKey","stroke","fill","fillOpacity","transform","activeDot","dot","strokeWidth","props","cx","cy","index","currencyName","name","r","LabelList","content","x","y","value","icon","fontSize","textAnchor","position","Tooltip","cursor","allowEscapeViewBox","CURRENCY_CACHE_KEY","fetchCurrencyData","async","axios","get","rates","error","Error","message","cacheCurrencyData","currencyData","timestamp","Date","now","usdRate","USD","rateBuy","toFixed","rateSell","euroRate","EUR","localStorage","setItem","JSON","stringify","getCurrencyRates","getCachedCurrencyData","cachedData","parse","getItem","console","setUsdRate","useState","setEuroRate","useEffect","fetchRates","currency","label","wrapper","tab","clsx","tr","header","item","CurrencyChart"],"sourceRoot":""}